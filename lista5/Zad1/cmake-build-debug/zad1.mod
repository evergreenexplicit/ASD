param n, integer, >= 2;
/* number of nodes */
set V, default {0..(n-1)};
/* set of nodes */
set E, within V cross V;
/* set of arcs */
param a{(i,j) in E}, > 0;
/* a[i,j] is capacity of arc (i,j) */
param s, symbolic, in V, default 0;
/* source node */
param t, symbolic, in V, != s, default (n-1);
/* sink node */
var x{(i,j) in E}, >= 0, <= a[i,j];
/* x[i,j] is elementary flow through arc (i,j) to be found */
var flow, >= 0;
/* total flow from s to t */
s.t. node{i in V}:
/* node[i] is conservation constraint for node i */
    sum{(j,i) in E} x[j,i] + (if i = s then flow)
    /* summary flow into node i through all ingoing arcs */
    = /* must be equal to */
    sum{(i,j) in E} x[i,j] + (if i = t then flow);
    /* summary flow from node i through all outgoing arcs */
maximize obj: flow;
/* objective is to maximize the total flow through the network */
solve;
printf "Maximum flow from node %s to node %s is %g\n\n", s, t, flow;
data;
param n := 256;
param : E :   a :=
          0 1   32
          0 2   256
          0 4   128
          0 8   16
          0 16   256
          0 32   2
          0 64   8
          0 128   1
          1 3   4
          1 5   1
          1 9   2
          1 17   2
          1 33   2
          1 65   8
          1 129   2
          2 3   8
          2 6   8
          2 10   64
          2 18   8
          2 34   16
          2 66   128
          2 130   16
          3 7   8
          3 11   64
          3 19   32
          3 35   64
          3 67   32
          3 131   32
          4 5   64
          4 6   128
          4 12   128
          4 20   64
          4 36   8
          4 68   4
          4 132   32
          5 7   16
          5 13   32
          5 21   1
          5 37   16
          5 69   8
          5 133   8
          6 7   16
          6 14   16
          6 22   4
          6 38   32
          6 70   4
          6 134   1
          7 15   2
          7 23   32
          7 39   16
          7 71   32
          7 135   4
          8 9   64
          8 10   32
          8 12   32
          8 24   8
          8 40   8
          8 72   32
          8 136   2
          9 11   2
          9 13   8
          9 25   16
          9 41   1
          9 73   2
          9 137   2
          10 11   64
          10 14   8
          10 26   8
          10 42   1
          10 74   8
          10 138   64
          11 15   8
          11 27   4
          11 43   8
          11 75   16
          11 139   4
          12 13   32
          12 14   1
          12 28   32
          12 44   64
          12 76   2
          12 140   4
          13 15   1
          13 29   16
          13 45   1
          13 77   4
          13 141   16
          14 15   4
          14 30   32
          14 46   16
          14 78   1
          14 142   8
          15 31   4
          15 47   2
          15 79   32
          15 143   16
          16 17   64
          16 18   4
          16 20   2
          16 24   32
          16 48   2
          16 80   8
          16 144   128
          17 19   64
          17 21   8
          17 25   16
          17 49   32
          17 81   8
          17 145   32
          18 19   1
          18 22   4
          18 26   8
          18 50   4
          18 82   16
          18 146   32
          19 23   8
          19 27   32
          19 51   8
          19 83   8
          19 147   1
          20 21   16
          20 22   16
          20 28   32
          20 52   4
          20 84   16
          20 148   2
          21 23   8
          21 29   16
          21 53   32
          21 85   16
          21 149   4
          22 23   16
          22 30   8
          22 54   16
          22 86   16
          22 150   16
          23 31   8
          23 55   32
          23 87   2
          23 151   8
          24 25   2
          24 26   4
          24 28   32
          24 56   4
          24 88   1
          24 152   32
          25 27   2
          25 29   4
          25 57   32
          25 89   1
          25 153   4
          26 27   16
          26 30   4
          26 58   16
          26 90   8
          26 154   4
          27 31   1
          27 59   32
          27 91   1
          27 155   32
          28 29   16
          28 30   32
          28 60   1
          28 92   32
          28 156   4
          29 31   8
          29 61   2
          29 93   8
          29 157   4
          30 31   4
          30 62   2
          30 94   4
          30 158   4
          31 63   4
          31 95   16
          31 159   16
          32 33   16
          32 34   128
          32 36   16
          32 40   16
          32 48   2
          32 96   64
          32 160   32
          33 35   16
          33 37   1
          33 41   2
          33 49   32
          33 97   2
          33 161   16
          34 35   32
          34 38   16
          34 42   16
          34 50   2
          34 98   64
          34 162   64
          35 39   8
          35 43   1
          35 51   32
          35 99   2
          35 163   16
          36 37   2
          36 38   1
          36 44   1
          36 52   1
          36 100   64
          36 164   64
          37 39   2
          37 45   4
          37 53   16
          37 101   8
          37 165   4
          38 39   16
          38 46   1
          38 54   32
          38 102   2
          38 166   4
          39 47   8
          39 55   2
          39 103   8
          39 167   8
          40 41   8
          40 42   32
          40 44   32
          40 56   16
          40 104   1
          40 168   1
          41 43   1
          41 45   1
          41 57   1
          41 105   4
          41 169   4
          42 43   32
          42 46   32
          42 58   4
          42 106   2
          42 170   2
          43 47   1
          43 59   1
          43 107   16
          43 171   16
          44 45   4
          44 46   32
          44 60   16
          44 108   32
          44 172   4
          45 47   32
          45 61   8
          45 109   16
          45 173   16
          46 47   8
          46 62   4
          46 110   1
          46 174   4
          47 63   1
          47 111   1
          47 175   2
          48 49   1
          48 50   1
          48 52   8
          48 56   64
          48 112   1
          48 176   8
          49 51   1
          49 53   1
          49 57   32
          49 113   1
          49 177   4
          50 51   8
          50 54   2
          50 58   32
          50 114   32
          50 178   1
          51 55   16
          51 59   32
          51 115   32
          51 179   4
          52 53   4
          52 54   4
          52 60   8
          52 116   2
          52 180   32
          53 55   1
          53 61   8
          53 117   8
          53 181   8
          54 55   2
          54 62   16
          54 118   2
          54 182   4
          55 63   4
          55 119   32
          55 183   8
          56 57   8
          56 58   8
          56 60   16
          56 120   4
          56 184   32
          57 59   1
          57 61   32
          57 121   32
          57 185   4
          58 59   8
          58 62   16
          58 122   1
          58 186   32
          59 63   64
          59 123   16
          59 187   2
          60 61   2
          60 62   4
          60 124   2
          60 188   1
          61 63   16
          61 125   2
          61 189   16
          62 63   32
          62 126   16
          62 190   32
          63 127   128
          63 191   2
          64 65   32
          64 66   32
          64 68   4
          64 72   32
          64 80   2
          64 96   8
          64 192   2
          65 67   16
          65 69   64
          65 73   32
          65 81   4
          65 97   1
          65 193   4
          66 67   4
          66 70   32
          66 74   16
          66 82   32
          66 98   1
          66 194   16
          67 71   32
          67 75   32
          67 83   2
          67 99   8
          67 195   2
          68 69   4
          68 70   1
          68 76   32
          68 84   2
          68 100   2
          68 196   2
          69 71   2
          69 77   16
          69 85   1
          69 101   16
          69 197   2
          70 71   16
          70 78   1
          70 86   4
          70 102   2
          70 198   2
          71 79   8
          71 87   4
          71 103   2
          71 199   4
          72 73   16
          72 74   2
          72 76   1
          72 88   1
          72 104   32
          72 200   16
          73 75   1
          73 77   4
          73 89   32
          73 105   8
          73 201   16
          74 75   8
          74 78   16
          74 90   4
          74 106   4
          74 202   4
          75 79   2
          75 91   32
          75 107   1
          75 203   32
          76 77   4
          76 78   2
          76 92   32
          76 108   16
          76 204   4
          77 79   1
          77 93   1
          77 109   4
          77 205   1
          78 79   32
          78 94   2
          78 110   4
          78 206   32
          79 95   8
          79 111   1
          79 207   2
          80 81   1
          80 82   1
          80 84   64
          80 88   2
          80 112   1
          80 208   64
          81 83   1
          81 85   4
          81 89   32
          81 113   2
          81 209   4
          82 83   2
          82 86   32
          82 90   8
          82 114   2
          82 210   16
          83 87   2
          83 91   4
          83 115   32
          83 211   8
          84 85   2
          84 86   1
          84 92   8
          84 116   32
          84 212   8
          85 87   32
          85 93   4
          85 117   16
          85 213   4
          86 87   4
          86 94   4
          86 118   16
          86 214   32
          87 95   4
          87 119   64
          87 215   64
          88 89   4
          88 90   16
          88 92   2
          88 120   32
          88 216   2
          89 91   4
          89 93   4
          89 121   32
          89 217   2
          90 91   16
          90 94   4
          90 122   4
          90 218   2
          91 95   2
          91 123   32
          91 219   16
          92 93   4
          92 94   16
          92 124   4
          92 220   16
          93 95   16
          93 125   8
          93 221   4
          94 95   16
          94 126   4
          94 222   16
          95 127   4
          95 223   1
          96 97   1
          96 98   8
          96 100   1
          96 104   64
          96 112   2
          96 224   2
          97 99   16
          97 101   32
          97 105   16
          97 113   32
          97 225   1
          98 99   32
          98 102   2
          98 106   1
          98 114   1
          98 226   8
          99 103   16
          99 107   16
          99 115   8
          99 227   2
          100 101   8
          100 102   4
          100 108   8
          100 116   2
          100 228   2
          101 103   4
          101 109   2
          101 117   4
          101 229   4
          102 103   16
          102 110   8
          102 118   4
          102 230   32
          103 111   8
          103 119   8
          103 231   8
          104 105   16
          104 106   16
          104 108   16
          104 120   16
          104 232   4
          105 107   16
          105 109   2
          105 121   8
          105 233   8
          106 107   32
          106 110   8
          106 122   16
          106 234   1
          107 111   1
          107 123   16
          107 235   1
          108 109   4
          108 110   2
          108 124   4
          108 236   32
          109 111   4
          109 125   8
          109 237   4
          110 111   2
          110 126   1
          110 238   2
          111 127   32
          111 239   1
          112 113   1
          112 114   2
          112 116   32
          112 120   16
          112 240   2
          113 115   4
          113 117   8
          113 121   4
          113 241   32
          114 115   2
          114 118   2
          114 122   4
          114 242   1
          115 119   1
          115 123   2
          115 243   1
          116 117   2
          116 118   1
          116 124   2
          116 244   1
          117 119   16
          117 125   4
          117 245   8
          118 119   64
          118 126   1
          118 246   4
          119 127   16
          119 247   1
          120 121   1
          120 122   8
          120 124   1
          120 248   2
          121 123   1
          121 125   8
          121 249   64
          122 123   8
          122 126   4
          122 250   4
          123 127   2
          123 251   1
          124 125   32
          124 126   64
          124 252   1
          125 127   2
          125 253   128
          126 127   2
          126 254   32
          127 255   4
          128 129   128
          128 130   16
          128 132   1
          128 136   128
          128 144   32
          128 160   4
          128 192   1
          129 131   32
          129 133   16
          129 137   16
          129 145   4
          129 161   32
          129 193   64
          130 131   4
          130 134   8
          130 138   32
          130 146   2
          130 162   2
          130 194   2
          131 135   1
          131 139   2
          131 147   4
          131 163   8
          131 195   4
          132 133   8
          132 134   2
          132 140   32
          132 148   2
          132 164   16
          132 196   8
          133 135   32
          133 141   4
          133 149   1
          133 165   4
          133 197   2
          134 135   2
          134 142   1
          134 150   16
          134 166   2
          134 198   8
          135 143   2
          135 151   4
          135 167   32
          135 199   4
          136 137   32
          136 138   32
          136 140   32
          136 152   2
          136 168   16
          136 200   64
          137 139   32
          137 141   1
          137 153   2
          137 169   8
          137 201   2
          138 139   8
          138 142   4
          138 154   4
          138 170   32
          138 202   2
          139 143   1
          139 155   4
          139 171   1
          139 203   32
          140 141   1
          140 142   2
          140 156   4
          140 172   2
          140 204   32
          141 143   4
          141 157   4
          141 173   16
          141 205   8
          142 143   16
          142 158   4
          142 174   32
          142 206   32
          143 159   8
          143 175   64
          143 207   1
          144 145   64
          144 146   2
          144 148   4
          144 152   64
          144 176   64
          144 208   16
          145 147   8
          145 149   1
          145 153   8
          145 177   16
          145 209   1
          146 147   4
          146 150   32
          146 154   32
          146 178   4
          146 210   8
          147 151   16
          147 155   2
          147 179   8
          147 211   2
          148 149   8
          148 150   16
          148 156   1
          148 180   8
          148 212   32
          149 151   1
          149 157   2
          149 181   2
          149 213   32
          150 151   8
          150 158   32
          150 182   16
          150 214   8
          151 159   32
          151 183   1
          151 215   2
          152 153   2
          152 154   2
          152 156   32
          152 184   16
          152 216   1
          153 155   8
          153 157   16
          153 185   8
          153 217   1
          154 155   16
          154 158   2
          154 186   16
          154 218   2
          155 159   32
          155 187   1
          155 219   2
          156 157   32
          156 158   8
          156 188   1
          156 220   32
          157 159   16
          157 189   16
          157 221   2
          158 159   16
          158 190   2
          158 222   4
          159 191   2
          159 223   1
          160 161   32
          160 162   64
          160 164   8
          160 168   16
          160 176   8
          160 224   32
          161 163   1
          161 165   16
          161 169   1
          161 177   32
          161 225   2
          162 163   8
          162 166   8
          162 170   16
          162 178   4
          162 226   8
          163 167   1
          163 171   16
          163 179   2
          163 227   4
          164 165   32
          164 166   32
          164 172   32
          164 180   4
          164 228   4
          165 167   1
          165 173   32
          165 181   16
          165 229   32
          166 167   32
          166 174   32
          166 182   4
          166 230   8
          167 175   16
          167 183   32
          167 231   1
          168 169   16
          168 170   1
          168 172   2
          168 184   8
          168 232   1
          169 171   16
          169 173   4
          169 185   2
          169 233   16
          170 171   8
          170 174   8
          170 186   8
          170 234   32
          171 175   64
          171 187   2
          171 235   32
          172 173   32
          172 174   8
          172 188   16
          172 236   8
          173 175   1
          173 189   4
          173 237   8
          174 175   4
          174 190   4
          174 238   8
          175 191   2
          175 239   2
          176 177   16
          176 178   4
          176 180   4
          176 184   4
          176 240   32
          177 179   1
          177 181   4
          177 185   4
          177 241   16
          178 179   1
          178 182   32
          178 186   8
          178 242   16
          179 183   1
          179 187   64
          179 243   32
          180 181   1
          180 182   32
          180 188   32
          180 244   1
          181 183   4
          181 189   8
          181 245   16
          182 183   4
          182 190   8
          182 246   32
          183 191   8
          183 247   128
          184 185   2
          184 186   16
          184 188   1
          184 248   8
          185 187   2
          185 189   2
          185 249   2
          186 187   16
          186 190   64
          186 250   32
          187 191   32
          187 251   1
          188 189   64
          188 190   4
          188 252   4
          189 191   64
          189 253   8
          190 191   2
          190 254   64
          191 255   4
          192 193   8
          192 194   32
          192 196   1
          192 200   16
          192 208   1
          192 224   64
          193 195   16
          193 197   8
          193 201   16
          193 209   16
          193 225   2
          194 195   8
          194 198   32
          194 202   16
          194 210   1
          194 226   32
          195 199   16
          195 203   1
          195 211   1
          195 227   16
          196 197   4
          196 198   16
          196 204   16
          196 212   32
          196 228   8
          197 199   8
          197 205   4
          197 213   8
          197 229   8
          198 199   2
          198 206   8
          198 214   16
          198 230   16
          199 207   32
          199 215   64
          199 231   16
          200 201   8
          200 202   8
          200 204   4
          200 216   1
          200 232   16
          201 203   4
          201 205   8
          201 217   1
          201 233   2
          202 203   4
          202 206   32
          202 218   1
          202 234   16
          203 207   2
          203 219   16
          203 235   64
          204 205   2
          204 206   16
          204 220   16
          204 236   4
          205 207   8
          205 221   4
          205 237   32
          206 207   32
          206 222   2
          206 238   16
          207 223   128
          207 239   16
          208 209   8
          208 210   32
          208 212   16
          208 216   8
          208 240   2
          209 211   1
          209 213   16
          209 217   8
          209 241   4
          210 211   1
          210 214   4
          210 218   32
          210 242   8
          211 215   1
          211 219   1
          211 243   2
          212 213   1
          212 214   32
          212 220   2
          212 244   8
          213 215   1
          213 221   4
          213 245   4
          214 215   4
          214 222   4
          214 246   2
          215 223   4
          215 247   32
          216 217   4
          216 218   16
          216 220   32
          216 248   4
          217 219   8
          217 221   16
          217 249   64
          218 219   1
          218 222   16
          218 250   16
          219 223   8
          219 251   32
          220 221   8
          220 222   2
          220 252   4
          221 223   16
          221 253   8
          222 223   1
          222 254   32
          223 255   64
          224 225   8
          224 226   8
          224 228   1
          224 232   8
          224 240   4
          225 227   4
          225 229   4
          225 233   16
          225 241   32
          226 227   16
          226 230   16
          226 234   1
          226 242   16
          227 231   4
          227 235   4
          227 243   8
          228 229   2
          228 230   32
          228 236   16
          228 244   4
          229 231   2
          229 237   16
          229 245   4
          230 231   4
          230 238   8
          230 246   8
          231 239   2
          231 247   1
          232 233   32
          232 234   16
          232 236   2
          232 248   8
          233 235   1
          233 237   32
          233 249   32
          234 235   16
          234 238   8
          234 250   4
          235 239   64
          235 251   128
          236 237   1
          236 238   32
          236 252   2
          237 239   128
          237 253   1
          238 239   2
          238 254   16
          239 255   32
          240 241   1
          240 242   1
          240 244   8
          240 248   2
          241 243   8
          241 245   2
          241 249   2
          242 243   64
          242 246   16
          242 250   4
          243 247   128
          243 251   1
          244 245   1
          244 246   32
          244 252   64
          245 247   1
          245 253   16
          246 247   64
          246 254   4
          247 255   256
          248 249   8
          248 250   1
          248 252   8
          249 251   64
          249 253   32
          250 251   64
          250 254   2
          251 255   128
          252 253   32
          252 254   128
          253 255   2
          254 255   4
;
end;
